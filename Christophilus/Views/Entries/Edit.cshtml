@model Christophilus.Models.JournalEntry

@{
    ViewBag.Title = "Edit " + Model.Day;
}

@section head {
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.2.min.js" type="text/javascript"></script>
  
  @(new MvcHtmlString(Bundle.JavaScript()
      .Add("~/Scripts/Editor.js")
      .Add("~/Scripts/RemoteSaver.js")
      .Add("~/Scripts/LocalSaver.js")
      .Add("~/Scripts/SaverSync.js")
      .Add("~/Scripts/Nav.js")
      .Add("~/Scripts/textarea.autosize.js")
      .Render("~/Scripts/edit_#.js")))
}

<h2 class="editing-title">@Model.Day</h2>
<div id="main-navigation">
  <a href="#" id="status">Saved</a> 
  <a href="@Url.Action("Index")"><img src="@Href("~/Content/img/list.png")" alt="List" /></a>
  <a href="#" id="user-options">@ViewBag.UserEmail</a>
  <a id="logout-link" href="@Url.Action("Logout", "Authentication")">Logout</a>
</div>
<textarea rows="10" cols="10" id="editable-entry" version="@Model.Version" save-action="@Url.Action("Update", "Entries", new { day = Model.Day })" day="@Model.Day" class="entry-body autosize">@(new MvcHtmlString(Model.Body))</textarea>